---
id: scim-overview
title: (Beta) User provisioning (SCIM) Overview
description: This section is a step-by-step guide on how to configure User provisioning (SCIM) for your Organization in ConfigCat.
---

:::info
**Beta Feature**: SCIM provisioning is in public beta. It has been thoroughly tested with various Identity Providers. 
We're now collecting feedback from real-world usage to fine-tune the experience. Share your feedback [here](https://configcat.com/support).
:::

This section describes how to configure User provisioning (SCIM) for your Organization in ConfigCat.

User provisioning (SCIM) allows you to synchronize users and groups from your Identity Provider into a ConfigCat Organization. 
ConfigCat permissions then can be assigned to each synchronized Identity Provider (IdP) group, 
which puts their members to the selected ConfigCat permission groups upon a user provisioning process.

Go to the *User provisioning (SCIM)* section on the <a href="https://app.configcat.com/organization/authentication/" target="_blank" rel="noopener noreferrer">Authentication & Provisioning</a> page to set up User provisioning. You need to be an Organization Admin to do this.

## Prerequisites

- [Verified domain](../domain-verification.mdx)  
  To configure User provisioning (SCIM), you have to verify the ownership of the domain that your company uses for email addresses. 
- Identity Provider that supports SCIM 2.0.

## Supported SCIM 2.0 endpoints

Check our User Provisioning (SCIM) API documentation [here](/api/scim/configcat-user-provisioning-scim-api/).

## 1. Connect your Identity Provider {#connect}

To enable SCIM in your Identity Provider, you have to let it know where ConfigCat accepts SCIM endpoint calls and how these calls are authorized.
On on the <a href="https://app.configcat.com/organization/authentication/" target="_blank" rel="noopener noreferrer">Authentication & Provisioning</a> page, 
you can get a **SCIM Url** used to point your Identity Provider to ConfigCat's SCIM endpoints, and a **Token** used to authorize requests with the `Bearer:` scheme.

To acquire the bearer token, go to the **1. Connect your Identity Provider** section and click the `+ GENERATE` button.

<img className="bordered-img" src="/docs/assets/scim/dashboard/token_generate.png" alt="ConfigCat SCIM token generate" decoding="async" loading="lazy"/>

From the opening dialog, copy and save the token, it will be used in the Identity Provider configuration section.

<img className="bordered-img" src="/docs/assets/scim/dashboard/token.png" alt="ConfigCat SCIM token" decoding="async" loading="lazy"/>

Go to your Identity Provider and follow the instructions. We tested and validated the following Identity Providers:

- [Entra ID (Azure AD)](./identity-providers/entra-id.mdx)
- [Okta](./identity-providers/okta.mdx)
- [OneLogin](./identity-providers/onelogin.mdx)

:::info
Other Identity Providers might also work with ConfigCat, if they support the SCIM 2.0 protocol.
:::

:::info
Connecting your Identity Provider and starting to sync users and groups is safe. It won't affect your current ConfigCat users or permissions until you click the `START PROVISIONING` button later.
:::

## 2. Assign ConfigCat permissions to Identity Provider groups  {#groups}

After a successful sync from your Identity Provider, each synchronized group will appear on the <a href="https://app.configcat.com/organization/authentication/" target="_blank" rel="noopener noreferrer">Authentication & Provisioning</a> page in the **2. Assign ConfigCat permissions to Identity Provider groups** section.
For each Identity Provider group, you can assign ConfigCat permissions by clicking on their gear icon.

<img className="bordered-img" src="/docs/assets/scim/dashboard/assign_permissions.png" alt="ConfigCat SCIM assign permissions" decoding="async" loading="lazy"/>

On the appearing dialog, you can control which ConfigCat permission will be assigned to the given group's members.

<img className="bordered-img" src="/docs/assets/scim/dashboard/select_permissions.png" alt="ConfigCat SCIM select permissions" decoding="async" loading="lazy"/>

### How permission conflicts are resolved

An Identity Provider user can be a member of multiple Identity Provider groups, therefore the user provisioning is merging the associated permissions based on the following rules:

- If an Identity Provider user is in a group that has the Organization Admin role, the user's ConfigCat account will get Organization Admin privileges.
- If an Identity Provider user is in a group that has the Billing Manager role, the user's ConfigCat account will get Billing Manager privileges.
- If none of the Identity Provider users' groups has the Organization Admin role, the user provisioning process will merge the product-level permissions assigned to each Identity Provider group. 
  If there's a conflict, the group with a higher priority (listed first) will decide the user's permissions. You can adjust the Identity Provider group priorities by clicking on the `Set priority` button above the Identity Provider groups table.

<img className="bordered-img" src="/docs/assets/scim/dashboard/set_priority.png" alt="ConfigCat SCIM set group priority" decoding="async" loading="lazy"/>

You can change the order of the groups by dragging and dropping items of the appearing list.

<img className="bordered-img" src="/docs/assets/scim/dashboard/change_priority.png" alt="ConfigCat SCIM change group priority" decoding="async" loading="lazy"/>

### Example

A ConfigCat Organization has 2 products, and each product has several permission groups:

| Product   | Permission groups                   |
| --------- | ----------------------------------- |
| Product A | Readers, Writers, Developers        |
| Product B | Readers, Product owners, Developers |

There are 5 Identity Provider groups that are marked for synchronization with the following permissions:

| Priority | Identity Provider group   | Associated ConfigCat Permissions            |
| -------- | ------------------------- | ------------------------------------------- |
| 1.       | Owners                    | Organziation Admin, Billing Manager         |
| 2.       | Billing Managers          | Organziation Admin                          |
| 3.       | Developers                | Product A/Developers, Product B/Developers  |
| 4.       | Product owners            | Product B/Product owners                    |
| 5.       | Readers                   | Product A/Readers, Product B/Readers        |

The Identity Provider users calculated ConfigCat permissions will be the following based on their Identity Provider groups:

| Identity Provider user | Identity Provider groups  | Calculated ConfigCat Permissions                        | Explanation |
| ---------------------- | ------------------------- | ------------------------------------------------------- | ----------- | 
| John                   | Owners, Readers           | Organziation Admin, Billing Manager                     | As John is assigned to the Owners Identity Provider group that has the Organization Admin role, the Readers Identity Provider group's product level permissions won't be assigned as he is already an Organization Admin. |
| Jane                   | Readers, Billing Managers | Billing Manager, Product A/Readers, Product B/Readers   | A ConfigCat user can have the Billing Manager role and Product level permissions too, so the permissions are merged based on the Identity Provider groups. |
| Peter                  | Readers, Developers       | Product A/Developers, Product B/Developers              | As both the Readers and Developers Identity Provider groups have associated permissions to the same Products, the permissions will be merged based on the Identity Provider group's priority |

## 3. Start and stop provisioning for Identity Provider users  {#users}

After a successful synchronization, the Identity Provider users will appear on the <a href="https://app.configcat.com/organization/authentication/" target="_blank" rel="noopener noreferrer">Authentication & Provisioning</a> page in the *3. Start and stop provisioning for Identity Provider users* section.
You can see and control their provisioning state there. New ConfigCat accounts are not created automatically, but they'll receive an invitation email to join your Organization. Existing ConfigCat users' permissions will not change until you explicitly start the provisioning for them.

<img className="bordered-img" src="/docs/assets/scim/dashboard/start_stop_provisioning.png" alt="Start/Stop provisioning" decoding="async" loading="lazy"/>

### What is managed by the provisioning?

The User Provisioning feature manages the following user related attributes after you start provisioning the Identity Provider user:
- **ConfigCat permissions**: with a fine-tuned provisioning configuration, you can easily manage your team members' ConfigCat permissions with your Identity Provider.
- **ConfigCat account's email address**: if an Identity Provider user's email address has been changed in the Identity Provider, the associated ConfigCat user's email address will be changed too and the ConfigCat user will only be able to log in with the new email address.
- **ConfigCat account's full name**: the Identity Provider user's full name is synchronized from the Identity Provider and overwrites the ConfigCat user's full name property.
- **Soft delete**: if an Identity Provider user is soft deleted in the Identity Provider, the ConfigCat account will be disabled and cannot be used.
- **Hard delete**: if an Identity Provider user is hard deleted in the Identity Provider, the ConfigCat account will be removed from the Organization entirely, but the ConfigCat account won't be deleted for a while.

### Start/stop provisioning

In the Identity Provider users table, you can see a start/stop button in the last column. This indicates if an Identity Provider user's provisioning is active or not. 
As long as the provisioning is not started, you can adjust your Identity Provider groups' provisioning configurations till the permissions for your Identity Provider users match the expected permissions without having to worry about changing existing users' permissions.
The provisioning status column can give you an overview what will happen if you start the provisioning for the Identity Provider user.

If you start the provisioning for an Identity Provider user that already has a ConfigCat account, the provisioning permissions will overwrite their current permissions.  
If you start the provisioning for an Identity Provider user that doesn't have a ConfigCat account yet, we will send them an invitation email to let them know that they can start using ConfigCat. After they register an account, their permissions will be set based on the permissions you see in the Identity Provider user table.

:::info
After you start provisioning an Identity Provider user, you won't be able to set their permissions manually on the Team Members/Members & Roles members pages. The permissions can only be changed via changing the permissions in the Identity Provider groups table, or modifying the Identity Provider groups associated with the Identity Provider users in your Identity Provider.
:::

If you stop the provisioning an Identity Provider user, their permissions will stay in the last state, and modifying provisioning permissions or changing the Identity Provider user's Identity Provider groups won't change their permissions. You'll be able to manually modify permissions for provisioning stopped Identity Provider users on the Team members/Members & Roles pages.  
After turning back the provisioning the permissions may change regarding the actual provisioning configurations.

### Provisioning status

The Provisioning status column in the Identity Provider users table shows you important information about the provisioning state.

#### Identity Provider user with an unverified email domain

The User Provisoning is synchronizing all Identity Provider users from your Identity Provider regardless if the Identity Provider user's email domain is a verified email domain in ConfigCat or not.  
The Provisioning status will show an error message if the Identity Provider user's email address is not part of a verified domain in ConfigCat and you won't be able to start provisioning for Identity Provider user until you verify the email domain.

#### Identity Provider user without a ConfigCat account

The Provisioning status shows you information about what permissions will be assigned and what will happen to the Identity Provider user after a successful sign up.  
The Provisioning status will show you a warning if an Identity Provider user won't have any permissions in ConfigCat after a sign up so you can fine-tune your provisioning configuration.

#### Identity Provider user with an already existing ConfigCat account

If provisioning the Identity Provider user is stopped, the provisioning status shows information about what will happen to the ConfigCat account when you start provisioning is started. 
If provisioning the Identity Provider user is started the provisioning status can be:
- **Provisioning is active**: the provisioning is active, all permissions/user properties are matching your Identity Provider configuration for the Identity Provider user.
- **Provisioning is in progress**: the provisioning is happening in a background job, so for a short period of time you can see the provisioning is in progress status. This can happen if your Identity Provider sends ConfigCat updates about your Identity Provider user or you modify your Identity Provider group's provisioning permissions.

## 4. Provision future users automatically {#auto-provisioning}

By default, after the Identity Provider synchronizes a new Identity Provider user to ConfigCat, the Identity Provider user will be in a provisioning stopped state, so you can verify your configuration/permissions and adjust your settings if needed.  
After you are confident that the provisioning works like you expect, you can turn the **Provision future users automatically** toggle to ON to immediately start the provisioning for newly synchronized Identity Provider users. 

<img className="bordered-img" src="/docs/assets/scim/dashboard/auto_provisioning.png" alt="Auto provisioning for new users" decoding="async" loading="lazy"/>

### Disable Domain Auto-assign

After verifying your domain name in ConfigCat, all users signing up with that domain will be added to your Organization. With the auto-assign feature, you can also specify initial permissions for these users.  
User provisioning may interfere with ConfigCat's auto-assign feature. If you want to allow only provisioned users into your ConfigCat Organization, you should deactivate the auto-assign feature on Domain verification & Auto-assign users panel.

<img className="bordered-img" src="/docs/assets/scim/dashboard/disable_auto_assign.png" alt="Disable domain auto-assign" decoding="async" loading="lazy"/>

## 5. Review ConfigCat users who are not managed by user provisioning  {#not-managed}

After configuring the user provisioning and synchronizing your Identity Provider users from your Identity Provider, it may happen that there are some ConfigCat accounts in your Organization who are not synchronized by the User Provisioning. 
There can always be exceptions, but in most cases:
- Either they no longer need access to ConfigCat - you may want to delete them.
- Or you want to manage them through your Identity Provider - in this case, go to your Identity Provider and set up sync for them.
- Or you want to keep them this way - in this case, you need to manage their ConfigCat permissions on the Members & Roles page.
