---
id: cloudflare
title: Cloudflare Zero Trust
description: This is a step-by-step guide on how to set up and configure Cloudflare Zero Trust as a SAML Identity Provider for your organization.
---

Connect ConfigCat with Cloudflare Zero Trust via SAML.

## Introduction

Each SSO Identity Provider requires specific information to configure a SAML integration. The following guide will walk you through how you can connect ConfigCat with Cloudflare Zero Trust as a SAML Identity Provider.

## 1. Create an Application in Cloudflare

- Log in to <a href="https://dash.cloudflare.com/" target="_blank">CloudFlare</a>, go to the Zero Trust dashboard, and select `Applications` under the `Access` menu.  
  Then click on `Add an application`.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/add_app.png" alt="Create Cloudflare application" />

- Select `SaaS`.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/add_saas.png" alt="Select SaaS"/>

- Enter a descriptive name in the `Application` field.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/app_name.png" alt="Cloudflare app name"/>

The next step will guide you on how to collect the information required for the appearing configuration section.

## 2. Configure SAML for the Cloudflare Application

- Open your organization's authentication settings on the <a href="https://app.configcat.com/organization/authentication" target="_blank">ConfigCat Dashboard</a>.

  <img className="bordered-img" src="/docs/assets/saml/dashboard/authentication.png" alt="ConfigCat authentication settings" />

- Click `ADD SAML IDENTITY PROVIDER`.

  <img className="bordered-img" src="/docs/assets/saml/dashboard/add_idp.png" alt="ConfigCat Add Identity Provider" />

- Give a name for your Identity Provider, and click `Create`.

  <img className="bordered-img" src="/docs/assets/saml/dashboard/cf_name.png" alt="ConfigCat Name Identity Provider" />

- From the next section of the dialog, copy the following values and paste them into the Cloudflare application.

  - `Entity ID` -> `Entity ID`
  - `Assertion Consumer Service` -> `Assertion Consumer Service URL`

    <img className="bordered-img" src="/docs/assets/saml/dashboard/acs_entity_id_1.png" alt="ConfigCat SAML configuration" />

    <img className="bordered-img" src="/docs/assets/saml/cloudflare/meta.png" alt="Cloudflare SAML url EID" />

- Set the `Name ID Format` to `Email`.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/name_id.png" alt="Cloudflare SAML name id" />

- Click `Next` at the bottom of the page.

## 3. Configure policies for the Cloudflare Application

To let users authenticate via SAML, you need to assign groups to the Cloudflare application.

- Give a name for the Cloudflare Application's policy and check those groups that you want to assign.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/policy.png" alt="Cloudflare SAML name id" />

- Click `Next` at the bottom of the page.

## 4. Configure ConfigCat with SAML Details from Cloudflare

- Copy the value of `SSO endpoint` and `Public key` fields.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/cert_sign_on_url.png" alt="Cloudflare SSO url cert" />

- On the ConfigCat Dashboard, select the `3. Set up ConfigCat` step, click `Manual Configuration`, then paste the copied values into the appearing fields.

  - `SSO endpoint` -> `Sign-on URL`
  - `Public key` -> `X.509 Certificate`

    <img className="bordered-img" src="/docs/assets/saml/dashboard/cf_manual.png" alt="ConfigCat manual configuration"  />

## 5. Select Trusted Domains on the SAML Configuration Dialog

- Only user accounts from trusted domains can login with SAML SSO. You can bind multiple verified domains to a SAML Identity Provider.
  
  <img className="bordered-img" src="/docs/assets/saml/dashboard/select_trusted_domains.png" alt="Select trusted domains" />

- Click `Save`.

## 5. Sign In

- Go to the <a href="https://app.configcat.com/auth/login" target="_blank">ConfigCat Log In</a> page, and click `COMPANY ACCOUNT - SAML`.

  <img className="bordered-img" src="/docs/assets/saml/dashboard/saml_login.png" alt="ConfigCat SAML login" />

- Sign in with your company email address assigned to the Cloudflare application.

  <img className="bordered-img" src="/docs/assets/saml/dashboard/company_email.png" alt="ConfigCat SAML company login" />

- ConfigCat will redirect you to Cloudflare's sign in page.

  <img className="bordered-img" src="/docs/assets/saml/cloudflare/login_page.png" alt="Cloudflare sign in" />

## 6. Next Steps

- Configure the [auto-assignment of users](../../auto-assign-users.mdx).
